# ローカル環境でのWi-Fi接続設定

同じWi-Fi下でスマホからアクセスできるようにするための手順です。

## 📋 前提条件

- Node.js がインストールされていること
- 同じWi-Fiネットワークに接続されていること（PCとスマホ）

## 🚀 起動方法

### 方法1: 起動スクリプトを使用（推奨）

```bash
./start-local.sh
```

このスクリプトは以下を実行します：
1. ローカルIPアドレスを取得して表示
2. 依存関係をインストール（必要な場合）
3. フロントエンド（ポート3000）とバックエンド（ポート3001）を同時に起動

### 方法2: 手動で起動

```bash
# 依存関係をインストール（初回のみ）
npm install

# ローカルIPアドレスを確認
node get-local-ip.js

# フロントエンドとバックエンドを同時に起動
npm run dev:all
```

または、別々のターミナルで起動：

```bash
# ターミナル1: フロントエンド
npm run dev

# ターミナル2: バックエンド
npm run dev:server
```

## 📱 スマホからのアクセス

1. PCで起動した後、表示されたローカルIPアドレスを確認
   - 例: `192.168.1.100`

2. スマホのブラウザで以下のURLにアクセス
   ```
   http://192.168.1.100:3000
   ```
   （上記のIPアドレスを実際のローカルIPアドレスに置き換えてください）

## 🔧 設定の確認

### フロントエンド（Vite）
- 設定ファイル: `vite.config.ts`
- ポート: `3000`
- ホスト: `0.0.0.0` （ネットワーク経由でアクセス可能）

### バックエンド（Express）
- 設定ファイル: `server/index.js`
- ポート: `3001`
- ホスト: `0.0.0.0` （ネットワーク経由でアクセス可能）

### APIのURL設定
- 設定ファイル: `src/config.ts`
- スマホからPCのIPアドレスでアクセスしている場合、自動的にそのIPアドレスを使用します

## ⚠️ 注意事項

1. **ファイアウォール設定**
   - macOS: システム環境設定 → セキュリティとプライバシー → ファイアウォール
   - Node.jsが接続を許可されているか確認してください

2. **同じWi-Fiネットワーク**
   - PCとスマホが同じWi-Fiネットワークに接続されている必要があります

3. **ポート番号**
   - フロントエンド: `3000`
   - バックエンド: `3001`
   - これらのポートが他のアプリで使用されていないか確認してください

## 🐛 トラブルシューティング

### 接続できない場合

1. **IPアドレスを確認**
   ```bash
   node get-local-ip.js
   ```

2. **ポートが使用されているか確認**
   ```bash
   # macOS
   lsof -i :3000
   lsof -i :3001
   ```

3. **ファイアウォールを確認**
   - Node.jsが接続を許可されているか確認

4. **Wi-Fiネットワークを確認**
   - PCとスマホが同じWi-Fiネットワークに接続されているか確認

## 📝 その他

- 開発サーバーは`Ctrl+C`で終了できます
- 変更を加えた場合は、ブラウザで自動的にリロードされます（Hot Module Replacement）
