# ğŸ”§ ãƒãƒ¼ãƒˆ3000ã¸ã®æ¥ç¶šã‚¨ãƒ©ãƒ¼ä¿®æ­£

## å•é¡Œ

ã€Œã‚µãƒ¼ãƒ"160.16.92.115"ã«æ¥ç¶šã§ããªã„ãŸã‚ã€ãƒšãƒ¼ã‚¸ "160.16.92.115:3000" ã‚’é–‹ã‘ã¾ã›ã‚“ã€‚ã€

ã‚¹ãƒãƒ›ã‹ã‚‰VPSã‚µãƒ¼ãƒãƒ¼ã®ãƒãƒ¼ãƒˆ3000ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ã«æ¥ç¶šã§ãã¦ã„ã¾ã›ã‚“ã€‚

---

## ç¢ºèªãƒ»ä¿®æ­£æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª

VPSã‚µãƒ¼ãƒãƒ¼ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®çŠ¶æ…‹ã‚’ç¢ºèª
sudo ufw status

# ãƒãƒ¼ãƒˆ3000ã¨3001ãŒé–‹ã„ã¦ã„ãªã„å ´åˆã€é–‹æ”¾ã™ã‚‹
sudo ufw allow 3000/tcp
sudo ufw allow 3001/tcp
sudo ufw reload

# è¨­å®šã‚’ç¢ºèª
sudo ufw status
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ãŒå®Ÿéš›ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèª

VPSã‚µãƒ¼ãƒãƒ¼ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
# PM2ã®çŠ¶æ…‹ã‚’ç¢ºèª
pm2 status

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚°ã‚’ç¢ºèª
pm2 logs event-aeon-frontend --lines 20 --nostream

# ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ç¢ºèª
curl http://localhost:3000
```

---

### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒãƒ¼ãƒˆ3000ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

```bash
# ãƒãƒ¼ãƒˆ3000ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
sudo lsof -i :3000

# ã¾ãŸã¯
sudo netstat -tlnp | grep 3000
```

---

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•

```bash
cd ~/Event-AEON

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•
pm2 restart event-aeon-frontend

# ã¾ãŸã¯ã€ä¸€åº¦åœæ­¢ã—ã¦å†èµ·å‹•
pm2 stop event-aeon-frontend
pm2 delete event-aeon-frontend
pm2 start npm --name "event-aeon-frontend" -- run preview
pm2 save

# ãƒ­ã‚°ã‚’ç¢ºèª
pm2 logs event-aeon-frontend --lines 20
```

---

### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª

ã‚¹ãƒãƒ›ã‚„PCã‹ã‚‰VPSã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã‚‹ã‹ç¢ºèªï¼š

```bash
# pingã§æ¥ç¶šç¢ºèª
ping 160.16.92.115

# ãƒãƒ¼ãƒˆ3000ãŒé–‹ã„ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆtelnetã¾ãŸã¯ncã‚’ä½¿ç”¨ï¼‰
telnet 160.16.92.115 3000
# ã¾ãŸã¯
nc -zv 160.16.92.115 3000
```

---

## ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### å•é¡Œ1: ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã§ãƒãƒ¼ãƒˆ3000ãŒé–‰ã˜ã‚‰ã‚Œã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
sudo ufw allow 3000/tcp
sudo ufw allow 3001/tcp
sudo ufw reload
```

### å•é¡Œ2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
cd ~/Event-AEON
pm2 start npm --name "event-aeon-frontend" -- run preview
pm2 save
```

### å•é¡Œ3: vite previewãŒãƒãƒ¼ãƒˆ3000ã§ãƒªãƒƒã‚¹ãƒ³ã—ã¦ã„ãªã„

**ç¢ºèªæ–¹æ³•**ï¼š
```bash
# ãƒ­ã‚°ã‚’ç¢ºèª
pm2 logs event-aeon-frontend

# ã‚‚ã—ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ã€æ‰‹å‹•ã§èµ·å‹•ã—ã¦ç¢ºèª
cd ~/Event-AEON
npm run preview
```

### å•é¡Œ4: ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
cd ~/Event-AEON

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•
pm2 restart event-aeon-frontend
```

---

## å®Œå…¨ãªå†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
pm2 stop all
pm2 delete all

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~/Event-AEON

# æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
git pull origin main

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚’èµ·å‹•
pm2 start server/index.js --name "event-aeon-api"

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•
pm2 start npm --name "event-aeon-frontend" -- run preview

# è¨­å®šã‚’ä¿å­˜
pm2 save

# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
sudo ufw allow 3000/tcp
sudo ufw allow 3001/tcp
sudo ufw reload

# çŠ¶æ…‹ã‚’ç¢ºèª
pm2 status
```

---

## ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰

```bash
# PM2ãƒ—ãƒ­ã‚»ã‚¹çŠ¶æ…‹
pm2 status

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ­ã‚°
pm2 logs event-aeon-frontend --lines 50

# ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«çŠ¶æ…‹
sudo ufw status

# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³
sudo lsof -i :3000
sudo lsof -i :3001

# ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
pm2 restart all
```
