# ğŸ”§ ãƒãƒ¼ãƒˆ3001ã®ç«¶åˆã‚’è§£æ±ºã™ã‚‹æ–¹æ³•

## å•é¡Œ

`Error: listen EADDRINUSE: address already in use 0.0.0.0:3001`

ãƒãƒ¼ãƒˆ3001ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚`event-aeon-server`ãŒæ—¢ã«èµ·å‹•ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

---

## è§£æ±ºæ–¹æ³•

VPSã‚µãƒ¼ãƒãƒ¼ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒ¼ãƒˆ3001ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª

```bash
sudo lsof -i :3001
```

ã¾ãŸã¯

```bash
sudo netstat -tlnp | grep 3001
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: å¤ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ãƒ»å‰Šé™¤

```bash
# ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
pm2 stop all

# å¤ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’å‰Šé™¤
pm2 delete event-aeon-server
pm2 delete event-aeon-api

# ç¢ºèª
pm2 status
```

---

### ã‚¹ãƒ†ãƒƒãƒ—3: æ­£ã—ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•

```bash
cd ~/Event-AEON

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚’èµ·å‹•ï¼ˆæ­£ã—ã„åå‰ï¼‰
pm2 start server/index.js --name "event-aeon-api"

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆé‡è¤‡ãŒãªã„ã“ã¨ã‚’ç¢ºèªï¼‰
pm2 start npm --name "event-aeon-frontend" -- run preview

# è¨­å®šã‚’ä¿å­˜
pm2 save

# çŠ¶æ…‹ã‚’ç¢ºèª
pm2 status
```

---

## ã‚¯ãƒªãƒ¼ãƒ³ãªå†èµ·å‹•ï¼ˆã™ã¹ã¦ã‚’ãƒªã‚»ãƒƒãƒˆï¼‰

```bash
# ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ãƒ»å‰Šé™¤
pm2 stop all
pm2 delete all

# ãƒãƒ¼ãƒˆ3001ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’å¼·åˆ¶çµ‚äº†ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
sudo lsof -i :3001
# PIDã‚’ç¢ºèªã—ã¦ã‹ã‚‰
# sudo kill -9 <PID>

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~/Event-AEON

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚’èµ·å‹•
pm2 start server/index.js --name "event-aeon-api"

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•
pm2 start npm --name "event-aeon-frontend" -- run preview

# è¨­å®šã‚’ä¿å­˜
pm2 save

# çŠ¶æ…‹ã‚’ç¢ºèª
pm2 status

# ãƒ­ã‚°ã‚’ç¢ºèª
pm2 logs event-aeon-api --lines 20
```

---

## æœŸå¾…ã•ã‚Œã‚‹çµæœ

`pm2 status`ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Œã°æˆåŠŸã§ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                   â”‚ status  â”‚ restart â”‚ uptime   â”‚ cpu    â”‚ mem  â”‚ watching  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ event-aeon-api         â”‚ online  â”‚ 0       â”‚ 5m       â”‚ 0%     â”‚ XXmb â”‚ disabled  â”‚
â”‚ 1  â”‚ event-aeon-frontend    â”‚ online  â”‚ 0       â”‚ 5m       â”‚ 0%     â”‚ XXmb â”‚ disabled  â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
